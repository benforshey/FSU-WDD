{"version":3,"sources":["main.js"],"names":["ready","fn","document","readyState","addEventListener","attachEvent","readyWrap","buildPage","doc","shareButton","dataset","id","_id","setPreviewPath","querySelector","innerHTML","company","name","tagline","url","children","inspector","phone","email","customer","inspectionType","inspectionDate","inspectionSite","agent","summary","querySelectorAll","i","length","invoice","quantity","item","price","legal","getElementsByClassName","j","localDB","PouchDB","remoteDB","checkboxes","checkboxesAll","createReport","today","Date","thisMonth","getDate","getMonth","days","getYear","deleteButton","months","openReportButton","pipeLibrary","abnormality","break","slight","description","recommendation","moderate","severe","buildup","corrosion","erosion","foreign object","fracture","low area","offset","root intrusion","composition","access point","basement","crawlspace","garage","laundry room","outside","pulled toilet","roof vent","end point","blockage","city main","max run","resistance","tie in","from above","from left","from right","transition","from","ABS","cast iron","vitrified clay","concrete","copper","lead","Orangeburg","PVC","SDR","Transite","to","previewLink","reportTable","getElementsByTagName","tableBody","reportFilterSelect","saveButton","sharingParent","sharingBlock","years","logErrorInDB","err","stamp","now","put","error_name","error_message","message","console","log","getConnectionStatus","navigator","onLine","connectionHandler","internetStatus","databaseStatus","connection","syncDatabasesHandler","sync","live","retry","on","change","displayReportRange","cancel","setShareButtonDisabledState","window","disableButton","target","intent","classString","button","disable","className","classList","contains","remove","RegExp","test","replace","disabled","goToTail","path","location","href","slice","pathname","deleteButtonStatus","num","countCheckedCheckboxes","getNumDaysInMonth","year","month","setDefaultSelectMonth","parseInt","value","selected","populateSelectDays","defaultOption","createElement","daysToPopulate","lastChild","removeChild","appendChild","option","checkUncheckAll","checked","numChecked","asFarBackAs","upUntil","day","toISOString","allDocs","include_docs","startkey","endkey","then","results","rows","row","tableListeners","markReportForEdit","e","editID","upsert","edit_id","createButtonListeners","get","status","deleteButtonListeners","parentNode","selectListeners","targetClass","nodeName","saveReport","buildReport","report","abnormalities","sharing","logo","src","compositionBlock","compositionBlockObject","keysArray","Object","keys","filled","k","abnormalitiesBlock","abnormalitiesBlockObject","sharingEmails","push","generateSharingInputs","emails","callback","generateExisting","span","input","size","type","placeholder","generateNew","l","numEmpty","getIfEdit","buildReportPageController","sharingController","preventDefault","AJAX","XMLHttpRequest","emailPayload","response","open","setRequestHeader","send","JSON","stringify","inputs","delegate","widthController","base","chars","heightController","scrollHeight","clientHeight","nodeNameFilter","resetInputHits","inputHits","clone","baseIDFull","baseIDStripped","nextNameID","Number","newClone","node","cloneNode","parent","cycle","unfold","duplicateCheck","siblingNode","deleteInputs","toDelete","formBlock","reverse","ii","duplicate","val","nextElementSibling","newNode","siblingIDStripped","insertBefore","newNodeA","newNodeB","generateDescription","encodeAsHTML","text","element","parentBlock","tail","values","check","descriptionTrigger","removeEventListener"],"mappings":"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","file":"main.min.js","sourcesContent":["function ready(fn) {\n    if (document.readyState != 'loading') {\n        fn();\n    } else if (document.addEventListener) {\n        document.addEventListener('DOMContentLoaded', fn);\n    } else {\n        document.attachEvent('onreadystatechange', function() {\n            if (document.readyState != 'loading') {\n                fn();\n            }\n        });\n    }\n}\nvar readyWrap = function() {\n    \"use strict\";\n\n    var localDB = new PouchDB('reports');\n    var remoteDB = new PouchDB('http://localhost:5984/integrous_web/');  // # customize #\n    var checkboxes = document.getElementsByClassName('table_reportSelect');\n    var checkboxesAll = document.getElementsByClassName('table_reportSelect__all')[0];\n    var createReport = document.getElementsByClassName('reportActions__create')[0];\n    var today = new Date(),\n        thisDay = today.getDate(),\n        thisMonth = today.getMonth(),\n        thisYear = today.getYear();\n    var days = document.getElementsByClassName('select__day')[0];\n    var deleteButton = document.getElementsByClassName('reportActions__delete')[0];\n    var months = document.getElementsByClassName('select__month')[0];\n    var openReportButton = document.getElementsByClassName('reportDisplay_open');\n    var pipeLibrary = {\n        \"abnormality\": {\n            \"break\": {\n                \"slight\": {\n                    \"description\": \"The break is a small hole with some aggregate showing.\",\n                    \"recommendation\": \"I recommend re-inspecting twice a year or just repairing the hole now. It will worsen over time.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The break is a medium hole with a void under the pipe.\",\n                    \"recommendation\": \"I recommend repairing the pipe now, as sewage is leaking into the ground and washing away the soil underneath the pipe.\"\n                },\n                \"severe\": {\n                    \"description\": \"The break is a large hole with a void under the pipe.\",\n                    \"recommendation\": \"I recommend repairing the pipe now, as sewage is leaking into the ground and washing away the soil underneath the pipe.\"\n                }\n            },\n            \"buildup\": {\n                \"slight\": {\n                    \"description\": \"The buildup reduces less than 25% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that nothing but toilet paper enter the line. Grease and oils contribute to buildups, as do products such as flushable wipes and feminine hygiene products. I would reinspect again in a few years to monitor the buildup&rsquo;s severity.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The buildup reduces 25%&ndash;50% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that the pipe be snaked or jetted to restore the side sewer&rsquo;s full functionality. I also recommend that nothing but toilet paper enter the line. Grease and oils contribute to buildups, as do products such as flushable wipes and feminine hygiene products.\"\n                },\n                \"severe\": {\n                    \"description\": \"The buildup reduces greater than 50% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that the pipe be snaked or jetted to restore the side sewer&rsquo;s full functionality. I also recommend that nothing but toilet paper enter the line. Grease and oils contribute to buildups, as do products such as flushable wipes and feminine hygiene products.\"\n                }\n            },\n            \"corrosion\": {\n                \"slight\": {\n                    \"description\": \"The corrosion is without evidence of a break and causes less than 25% reduction in the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend re-inspecting the side sewer line every few years to monitor the progression of the corrosion.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The corrosion is without evidence of a break and causes a 25%&ndash;50% reduction in the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend having the pipe cleaned out (snaking or jetting) and reinspected to determine the condition of the underlying material.\"\n                },\n                \"severe\": {\n                    \"description\": \"The corrosion is without evidence of a break and causes a greater than 50% reduction in the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend having the pipe cleaned out (snaking or jetting) and reinspected to determine the condition of the underlying material.\"\n                }\n            },\n            \"erosion\": {\n                \"slight\": {\n                    \"description\": \"The concrete aggregate is beginning to show through.\",\n                    \"recommendation\": \"I recommend that you re-inspect the pipe every few years to monitor the erosion&rsquo;s progression.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The concrete aggregate is showing through, and the interior surface of the pipe is bumpy.\",\n                    \"recommendation\": \"I recommend that you re-inspect the pipe every year to monitor the erosion&rsquo;s progression.\"\n                },\n                \"severe\": {\n                    \"description\": \"The concrete aggregate is plainly visible, the interior surface is very bumpy, and pits in the pipe&rsquo;s structure are visible.\",\n                    \"recommendation\": \"I recommend that you replace the pipe very soon, as the erosion will accelerate and sewage will leak into the soil.\"\n                }\n            },\n            \"foreign object\": {\n                \"slight\": {\n                    \"description\": \"The foreign object doesn&rsquo;t effect the overall function of the side sewer line.\",\n                    \"recommendation\": \"There's no need to remove the foreign object, as it does not effect the overall function of the sewer line.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The foreign object is hindering the overall function of the side sewer line.\",\n                    \"recommendation\": \"I recommend that you have the foreign object removed.\"\n                },\n                \"severe\": {\n                    \"description\": \"The foreign object seriously impedes the overall function of the side sewer line.\",\n                    \"recommendation\": \"I recommend that you have the foreign object removed.\"\n                }\n            },\n            \"fracture\": {\n                \"slight\": {\n                    \"description\": \"The fractures are slight have no effect on the side sewer&rsquo;s function.\",\n                    \"recommendation\": \"I recommend that you inspect the pipe again in few years to determine if the fracturing is becoming more severe.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The fractures are moderate and may or may not be effecting the side sewer&rsquo;s function.\",\n                    \"recommendation\": \"I recommend that you inspect the pipe again every two years to monitor the condition of the fracturing.\"\n                },\n                \"severe\": {\n                    \"description\": \"The fractures are severe and have compromised the integrity of the side sewer.\",\n                    \"recommendation\": \"I recommend that you replace the damaged section of the side sewer.\"\n                }\n            },\n            \"low area\": {\n                \"slight\": {\n                    \"description\": \"The low area retains less than 25% of the pipe&rsquo;s diameter.\",\n                    \"recommendation\": \"Buildups may occur but are not likely to effect the overall function of the side sewer line. I recommend that nothing but toilet paper enter the line, as flushable wipes and feminine hygiene products may contribute to a buildup.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The low area retains 25%&ndash;50% of the pipe&rsquo;s diameter.\",\n                    \"recommendation\": \"Buildups will likely occur and may be severe enough to effect the overall function of the side sewer line. I recommend that nothing but toilet paper enter the line, as flushable wipes and feminine hygiene products will contribute to a buildup.\"\n                },\n                \"severe\": {\n                    \"description\": \"The low area retains greater than 50% of the pipe&rsquo;s diameter.\",\n                    \"recommendation\": \"Buildups will likely occur and will likely effect the overall function of the side sewer line. I recommend that the low area be repaired.\"\n                }\n            },\n            \"offset\": {\n                \"slight\": {\n                    \"description\": \"The pipe is slightly offset and is very unlikely to effect the function of the side sewer. No soil is visible.\",\n                    \"recommendation\": \"No action is needed for this slight offset.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The pipe is moderately offset but is unlikely to effect the function of the side sewer since no soil is visible at the joint.\",\n                    \"recommendation\": \"I recommend that you inspect the pipe again in a few years to see if the offset has shifted.\"\n                },\n                \"severe\": {\n                    \"description\": \"The pipe is severely offset, causing a break in the integrity of the side sewer. Soil is visible.\",\n                    \"recommendation\": \"I recommend having this offset joint repaired.\"\n                }\n            },\n            \"root intrusion\": {\n                \"slight\": {\n                    \"description\": \"The roots block less than 25% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that you have the root treated with a foaming herbicide like RootX.\"\n                },\n                \"moderate\": {\n                    \"description\": \"The roots block between 25%&ndash;50% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that you have the pipe cleaned (snaked or jetted) then regularly treated with a foaming herbicide like RootX.\"\n                },\n                \"severe\": {\n                    \"description\": \"The roots block less than 25% of the pipe&rsquo;s capacity.\",\n                    \"recommendation\": \"I recommend that you have the pipe cleaned (snaked or jetted) then regularly treated with a foaming herbicide like RootX.\"\n                }\n            }\n        },\n        \"composition\": {\n            \"access point\": {\n                \"basement\": \"I accessed the side sewer line from the basement cleanout.\",\n                \"crawlspace\": \"I accessed the side sewer line from the crawlspace cleanout.\",\n                \"garage\": \"I accessed the side sewer line from the garage cleanout.\",\n                \"laundry room\": \"I accessed the side sewer line from the laundry room cleanout.\",\n                \"outside\": \"I accessed the side sewer line from the outside cleanout.\",\n                \"pulled toilet\": \"Since no cleanout was accessible, I pulled the toilet to access the side sewer line.\",\n                \"roof vent\": \"Since no cleanout was accessible, I accessed the side sewer line from a roof vent.\"\n            },\n            \"end point\": {\n                \"blockage\": \"The camera was stopped by a blockage.\",\n                \"break\": \"The camera was stopped by a break in the line.\",\n                \"city main\": \"The camera reached the city main line.\",\n                \"foreign object\": \"The camera was stopped by a foreign object in the side sewer line.\",\n                \"max run\": \"The camera reached the maximum length of the cable before reaching the city main line.\",\n                \"offset\": \"The camera was stopped by an offset pipe in the side sewer line.\",\n                \"resistance\": \"The camera was stopped by resistance from multiple bends in the line.\"\n            },\n            \"tie in\": {\n                \"from above\": \"The side sewer line is joined by another line from above.\",\n                \"from left\": \"The side sewer line is joined by another line from the left.\",\n                \"from right\": \"The side sewer line is joined by another line from the right.\"\n            },\n            \"transition\": {\n                \"from\": {\n                    \"ABS\": \"The side sewer line transitioned from ABS \",\n                    \"cast iron\": \"The side sewer line transitioned from cast iron \",\n                    \"vitrified clay\": \"The side sewer line transitioned from vitrified clay pipe\",\n                    \"concrete\": \"The side sewer line transitioned from concrete \",\n                    \"copper\": \"The side sewer line transitioned from copper \",\n                    \"lead\": \"The side sewer line transitioned from lead \",\n                    \"Orangeburg\": \"The side sewer line transitioned from Orangeburg \",\n                    \"PVC\": \"The side sewer line transitioned from PVC \",\n                    \"SDR\": \"The side sewer line transitioned from SDR \",\n                    \"Transite\": \"The side sewer line transitioned from Transite \"\n                },\n                \"to\": {\n                    \"ABS\": \"to ABS.\",\n                    \"cast iron\": \"to cast iron.\",\n                    \"vitrified clay\": \"to vitrified clay pipe.\",\n                    \"concrete\": \"to concrete.\",\n                    \"copper\": \"to copper.\",\n                    \"lead\": \"to lead.\",\n                    \"Orangeburg\": \"to Orangeburg.\",\n                    \"PVC\": \"to PVC.\",\n                    \"SDR\": \"to SDR.\",\n                    \"Transite\": \"to Transite.\"\n                }\n            }\n        }\n    };\n    var previewLink = document.getElementsByClassName('js_previewReport')[0];\n    var reportTable = document.getElementsByTagName('table')[0],\n        tableBody = reportTable.getElementsByClassName('table_body')[0];\n    var reportFilterSelect = document.getElementsByClassName('reportFilter__select')[0];\n    var saveButton = document.getElementsByClassName('js_saveReport')[0];\n    var sharingForm = document.getElementsByClassName('js_sharingForm')[0];\n    var sharingParent = document.getElementsByClassName('js_sharingParentNode')[0];\n    var sharingBlock = document.getElementsByClassName(\"js_sharingClone\");\n    var shareButton = document.getElementsByClassName('js_shareReport')[0];\n    var years = document.getElementsByClassName('select__year')[0];\n\n    var logErrorInDB = function (err) {  // \"every doc a delta\" error logging\n        var stamp = Date.now();\n        localDB.put({\n            _id: stamp + \" error\",\n            error_name: err.name,\n            error_message: err.message\n        }).catch(function (err) {  // to prevent recursive hell, don't log this error in the db\n            console.log(err);\n        });\n    };\n\n    var getConnectionStatus = function () {\n        return navigator.onLine;\n    };\n\n    var connectionHandler = function () {  // sets connection info to user and starts / stops database sync\n        var internetStatus = document.getElementsByClassName('connectionInfo__internetStatus');\n        var databaseStatus = document.getElementsByClassName('connectionInfo__databaseStatus');\n        var i;\n        var j = internetStatus.length;\n\n        var connection = getConnectionStatus();\n\n        var syncDatabasesHandler = localDB.sync(remoteDB, {  // start syncing (attempt)\n            live: true,\n            retry: true\n        }).on('change', function (change) {\n            displayReportRange();  // update the UI\n        }).on('error', function (err) {\n            logErrorInDB(err);\n        });\n\n        if (!connection) {  // stop the db sync if offline\n            //syncDatabasesHandler.on('complete', function (info) {  // event for sync canceled (currently unused)\n            //});\n\n            syncDatabasesHandler.cancel();  // the call to cancel sync\n        }\n        \n        for (i = 0; i < j; i += 1) {  // write to user\n            internetStatus[i].innerHTML = connection ? \"Working Online\" : \"Working Offline\";\n            databaseStatus[i].innerHTML = connection ? \"Saved Remotely and Locally\" : \"Saved Locally\";\n        }\n\n        if (shareButton) {\n            setShareButtonDisabledState();  // check if share button should be disabled due to connection\n        }\n\n        window.addEventListener('online', connectionHandler);  // sets listeners on the window for online events\n        window.addEventListener('offline', connectionHandler);  // sets listeners on the window for offline events\n    };\n\n    var disableButton = function (target, intent) {  // disable or enable button states\n        var button = target;\n        var disable = intent;\n        var classString;\n\n        if (disable) {  // add the styles\n            button.className += ' disabled';\n        } else {\n            if (button.classList.contains('disabled')) {  // test for class in > IE9\n                button.classList.remove('disabled');\n            } else if (new RegExp('(^| )' + 'disabled' + '( |$)', 'gi').test(button.className)) {  // test for class in < IE10\n                classString = button.className;  // get it & set it\n                classString.replace(' disabled', '');  // remove it\n                button.className = classString;  // put it\n            }\n        }\n\n        return button.disabled = disable;  // set disabled attribute to true or false\n    };\n\n    var goToTail = function (path) {  // function for button navigation by adding a tail onto the pathname; checks for trailing slash\n        if (location.href.slice(-1) !== '/') {\n            return window.location.pathname += '/' + path;\n        } else {\n            return window.location.pathname += path\n        }\n    };\n\n    /* SPECIFIC TO REPORTS */\n\n    var deleteButtonStatus = function () {  // set the singular or plural wording for delete button\n        var num = countCheckedCheckboxes();\n\n        if (num < 1) {  // plurality and state checks\n            deleteButton.innerHTML = 'Delete Report';\n            return disableButton(deleteButton, true);\n        } else if (num === 1) {\n            deleteButton.innerHTML = 'Delete Report';\n            return disableButton(deleteButton, false);\n        } else {\n            deleteButton.innerHTML = 'Delete Reports';\n            return disableButton(deleteButton, false)\n        }\n    };\n\n    var getNumDaysInMonth = function (year, month) {\n        return new Date(year, month, 0).getDate();  // the zero-th day of the next month (since Date constructor is 0-based by my select values are not) is the last day (number of days) in the previous month\n    };\n\n    var setDefaultSelectMonth = function () {\n        for (var i = 0; i < months.children.length; i += 1) {  // loop through each month in the select\n            if (parseInt(months[i].value - 1, 10) === thisMonth) {  // find the value that equals this month (-1 to adjust for 0-based month in constructor)\n                months[i].selected = true;  // select it\n            }\n        }\n        populateSelectDays();  // call once default month is set\n    };\n\n    var populateSelectDays = function () {\n        var defaultOption = document.createElement('option');\n        var daysToPopulate = getNumDaysInMonth(years.value, months.value);\n        var i;\n        var j = daysToPopulate + 1;\n\n        while(days.lastChild) {\n            days.removeChild(days.lastChild);\n        }\n\n        defaultOption.innerHTML = '&mdash;';\n        defaultOption.value = '';\n        defaultOption.selected = true;\n        days.appendChild(defaultOption);\n\n        for (i = 1; i < j; i += 1) {  // 'i' set to 1 for writing number of days; 'j' adjusted with + 1 also\n            var option = document.createElement('option');\n                option.value = i;\n                option.innerHTML = i;\n                days.appendChild(option);\n        }\n    };\n\n    var checkUncheckAll = function () {\n        var i = 0;\n        var j = checkboxes.length;\n        if (checkboxesAll.checked) {\n            for (i = 0; i < j; i += 1) {\n                checkboxes[i].checked = true;\n            }\n        } else {\n            for (i = 0; i < j; i += 1) {\n                checkboxes[i].checked = false;\n            }\n        }\n    };\n\n    var countCheckedCheckboxes = function () {\n        var numChecked = 0;\n        for (var i = 0; i < checkboxes.length; i += 1) {\n            if (checkboxes[i].checked) {\n                numChecked += 1;\n            }\n        }\n        return numChecked;\n    };\n\n    var displayReportRange = function () {\n        var year = parseInt(years.value);\n        var month = parseInt(months.value);\n        var day = parseInt(days.value);\n        var asFarBackAs;\n        var upUntil;\n\n        if (year && month && day) {  // all three selected\n            asFarBackAs = new Date(year, month - 1, day).toISOString();  // take away 1 because the Date object's month is 0-based\n            upUntil = new Date(year, month - 1, day + 1).toISOString();\n        } else if (year && month) {  // just year and month; everything from the beginning of the month to the end of the month (< the beginning of next month)\n            asFarBackAs = new Date(year, month - 1).toISOString();  // this month\n            upUntil = new Date(year, month).toISOString();  // first day of next month\n        } else {  // just year selected; everything from the beginning of the year to now\n            asFarBackAs = new Date(year).toISOString();\n            upUntil = new Date().toISOString();  // now\n        }\n\n        localDB.allDocs({\n            include_docs: true,\n            startkey: asFarBackAs,\n            endkey: upUntil\n        }).then(function (results) {\n            var i;\n            var j = results.rows.length;\n            while (tableBody.lastChild) {\n                tableBody.removeChild(tableBody.lastChild);\n            }\n\n            for (i = 0; i < j; i += 1) {\n                var row = document.createElement('tr');\n                row.innerHTML =\n(`<td><button class=\"reportDisplay_open primaryAction\" data-id=\"${results.rows[i].doc._id}\">Open</button></td>\n<td>${results.rows[i].doc.customer.inspectionDate}</td>\n<td>${results.rows[i].doc.customer.inspectionSite}</td>\n<td>${results.rows[i].doc.customer.agent}</td>\n<td>${results.rows[i].doc.customer.name}</td>\n<td>${results.rows[i].doc.invoice.price}</td>\n<td class=\"table_selectContainer\"><input class=\"table_reportSelect\" type=\"checkbox\" title=\"select report\"></td>`);\n                tableBody.appendChild(row);\n            }\n\n            return tableListeners(); // set listeners on new elements\n\n        }).catch(function (err) {\n            logErrorInDB(err);\n            console.log(err);\n        });\n    };\n\n    var markReportForEdit = function (e) {\n        var editID = e.target.dataset.id;\n        localDB.upsert('_local/edit_id', function (doc) {\n            doc.edit_id = editID;\n            return doc;\n        }).catch(function (err) {\n            logErrorInDB(err);\n            console.log(err);\n        });\n        return goToTail('generator');\n    };\n\n    var createButtonListeners = function () {\n        createReport.addEventListener('click', function () {\n            localDB.get('_local/edit_id').then(function (doc) {  // get and delete the local edit doc (not an edit)\n                return localDB.remove(doc);\n            }).then(function () {  // then go to the generator\n                return goToTail('generator');\n            }).catch(function (err) {\n                if (err.status === 404) {\n                    return goToTail('generator');\n                }\n                logErrorInDB(err);\n                console.log(err);\n            });\n\n        });\n    };\n\n    var deleteButtonListeners = function () {\n        deleteButton.addEventListener('click', function () {\n            for (var i = 0; i < checkboxes.length; i += 1) {\n                if (checkboxes[i].checked) {  // if the checkbox is checked\n                    localDB.get(checkboxes[i].parentNode.parentNode.children[0].children[0].dataset.id).then(function (doc) {  // get the doc's id from open button\n                        return localDB.remove(doc);  // delete the report\n                    }).catch(function (err) {\n                        logErrorInDB(err);\n                        console.log(err);\n                    });\n                }\n            }\n        });\n    };\n\n    var selectListeners = function () {\n        reportFilterSelect.addEventListener('change', function (e) {\n            var targetClass = e.target.className;\n            if (targetClass === 'select__year' || targetClass === 'select__month') {  // the target's className should cause the day select to repopulate\n                populateSelectDays();  // populate the select days\n                return displayReportRange();  // display what is chosen\n            } else {  // the target's className shouldn't cause the day select to repopulate\n                return displayReportRange();  // just display what is chosen\n            }\n\n        });\n    };\n\n    var tableListeners = function () {\n        var i;\n        var j = openReportButton.length;\n        reportTable.addEventListener('change', function (e) {\n            if (e.target.nodeName === 'INPUT') {\n                if (e.target.className === 'table_reportSelect__all') {\n                    checkUncheckAll();\n                }\n                return deleteButtonStatus();\n            }\n        });\n\n        for (i = 0; i < j; i += 1) {\n            openReportButton[i].addEventListener('click', markReportForEdit);\n        }\n    };\n\n    /* SPECIFIC TO REPORT GENERATOR */\n\n    var saveReport = function (id) {  // save report\n        localDB.upsert(id, buildReport).then(function () {\n        }).catch(function (err) {\n            logErrorInDB(err);\n            console.log(err);\n        });\n    };\n\n    var buildReport = function () {\n        var report = {\n            \"_id\": \"\",\n            \"company\": {\n                \"name\": \"\",\n                \"tagline\": \"\",\n                \"url\": \"\"\n            },\n            \"inspector\": {\n                \"name\": \"\",\n                \"phone\": \"\",\n                \"email\": \"\"\n            },\n            \"customer\": {\n                \"inspectionType\": \"\",\n                \"inspectionDate\": \"\",\n                \"inspectionSite\": \"\",\n                \"name\": \"\",\n                \"agent\": \"\"\n            },\n            \"summary\": [\n\n            ],\n            \"invoice\": {\n                \"quantity\": \"\",\n                \"item\": \"\",\n                \"price\": \"\"\n            },\n            \"composition\": [\n\n            ],\n            \"abnormalities\": [\n\n            ],\n            \"legal\": [\n\n            ],\n            \"sharing\": [\n\n            ]\n        };\n\n        report._id = shareButton.dataset.id;  // pull the id from the page\n        setPreviewPath(report._id);  // and set the preview path\n\n        (function company() {\n            report.company.name = document.querySelector('.company_name').innerHTML;\n            report.company.tagline = document.querySelector('.company_tagline').innerHTML;\n            report.company.url = document.querySelector('.company_url').innerHTML;\n            report.company.logo = document.getElementsByClassName('company_logo')[0].src;\n        })();\n        (function inspector() {\n            report.inspector.name = document.querySelector('.inspector_name').children[1].innerHTML;\n            report.inspector.phone = document.querySelector('.inspector_phone').children[1].innerHTML;\n            report.inspector.email = document.querySelector('.inspector_email').children[1].innerHTML;\n        })();\n        (function customer() {\n            report.customer.inspectionType = document.querySelector('.customer_inspectionType').innerHTML;\n            report.customer.inspectionDate = document.querySelector('.customer_inspectionDate').innerHTML;\n            report.customer.inspectionSite = document.querySelector('.customer_site').children[1].innerHTML;\n            report.customer.name = document.querySelector('.customer_name').children[1].innerHTML;\n            report.customer.agent = document.querySelector('.customer_agent').children[1].innerHTML;\n        })();\n        (function summary() {\n            var summary = document.querySelectorAll('.summary_paragraph');\n            for (var i = 0; i < summary.length; i += 1) {\n                report.summary[i] = summary[i].innerHTML;\n            }\n        })();\n        (function invoice() {\n            report.invoice.quantity = document.querySelector('.table_quantity').innerHTML;\n            report.invoice.item = document.querySelector('.table_item').innerHTML;\n            report.invoice.price = document.querySelector('.table_price').innerHTML;\n        })();\n        (function compositionBlock() {\n            var compositionBlock = document.querySelectorAll(\".js_compositionClone\");\n            var compositionBlockObject = {};\n            for (var i = 0; i < compositionBlock.length; i += 1) {\n                for (var j = 0; j < compositionBlock[i].children.length; j += 1) {\n                    compositionBlockObject[compositionBlock[i].children[j].children[0].id] = compositionBlock[i].children[j].children[0].value;\n                }\n                var keysArray = Object.keys(compositionBlockObject);  // array of keys\n                var filled = false;  // set to false; if one field is filled, store entire object in report\n                for (var k = 0; k < keysArray.length; k += 1) {  // loop through the temp object\n                    if (compositionBlockObject[keysArray[k]] !== '') {  // if it's not empty\n                        filled = true;  // then it's filled\n                    }\n                }\n                if (filled) {  // if it's filled, put it in the report\n                    report.composition[i] = compositionBlockObject;\n                }\n                compositionBlockObject = {};  // reset to empty\n            }\n        })();\n        (function abnormalitiesBlock() {\n            var abnormalitiesBlock = document.querySelectorAll(\".js_abnormalitiesClone\");\n            var abnormalitiesBlockObject = {};\n            for (var i = 0; i < abnormalitiesBlock.length; i += 1) {\n                for (var j = 0; j < abnormalitiesBlock[i].children.length; j += 1) {\n                    abnormalitiesBlockObject[abnormalitiesBlock[i].children[j].children[0].id] = abnormalitiesBlock[i].children[j].children[0].value;\n                }\n                var keysArray = Object.keys(abnormalitiesBlockObject);  // array of keys\n                var filled = false;  // set to false; if one field is filled, store entire object in report\n                for (var k = 0; k < keysArray.length; k += 1) {  // loop through the temp object\n                    if (abnormalitiesBlockObject[keysArray[k]] !== '') {  // if it's not empty\n                        filled = true;  // then it's filled\n                    }\n                }\n                if (filled) {  // if it's filled, put it in the report\n                    report.abnormalities[i] = abnormalitiesBlockObject;\n                }\n                abnormalitiesBlockObject = {};  // reset to empty\n            }\n        })();\n        (function legal(){\n            var legal = document.querySelectorAll('.legal_paragraph');\n            for (var i = 0; i < legal.length; i += 1) {\n                report.legal[i] = legal[i].innerHTML;\n            }\n        })();\n        (function sharing() {\n            var sharingEmails = [];\n            for (var i = 0; i < sharingBlock.length; i += 1) {  // push filled inputs into array\n                if (sharingBlock[i].children[0].value) {\n                    sharingEmails.push(sharingBlock[i].children[0].value);\n                }\n            }\n            report.sharing = sharingEmails;  // put array as report.sharing value\n        })();\n\n        return report;\n    };\n\n    function buildPage(doc) { // todo: finish so that Composition and Abnormalities build (and whatever else isn't done)\n\n        shareButton.dataset.id = doc._id;  // set the id on the page from the doc\n        setPreviewPath(doc._id);  // and set the preview path\n\n        (function company() {\n            document.querySelector('.company_name').innerHTML = doc.company.name;\n            document.querySelector('.company_tagline').innerHTML = doc.company.tagline;\n            document.querySelector('.company_url').innerHTML = doc.company.url;\n        })();\n        (function inspector() {\n            document.querySelector('.inspector_name').children[1].innerHTML = doc.inspector.name;\n            document.querySelector('.inspector_phone').children[1].innerHTML = doc.inspector.phone;\n            document.querySelector('.inspector_email').children[1].innerHTML = doc.inspector.email;\n        })();\n        (function customer() {\n            document.querySelector('.customer_inspectionType').innerHTML = doc.customer.inspectionType;\n            document.querySelector('.customer_inspectionDate').innerHTML = doc.customer.inspectionDate;\n            document.querySelector('.customer_site').children[1].innerHTML = doc.customer.inspectionSite;\n            document.querySelector('.customer_name').children[1].innerHTML = doc.customer.name;\n            document.querySelector('.customer_agent').children[1].innerHTML = doc.customer.agent;\n        })();\n        (function summary() {\n            var summary = document.querySelectorAll('.summary_paragraph');\n            for (var i = 0; i < doc.summary.length; i += 1) {\n                summary[i].innerHTML = doc.summary[i];\n            }\n        })();\n        (function invoice() {\n            document.querySelector('.table_quantity').innerHTML = doc.invoice.quantity;\n            document.querySelector('.table_item').innerHTML = doc.invoice.item;\n            document.querySelector('.table_price').innerHTML = doc.invoice.price;\n        })();\n        (function legal () {\n            var legal =  document.getElementsByClassName('legal_paragraph');\n            var j = legal.length;\n            for (var i = 0; i < j; i += 1) {\n                legal[i].innerHTML = doc.legal[i];\n            }\n        })();\n\n    }\n\n    var generateSharingInputs = function (emails, callback) {  // dynamically generate inputs with or without report content\n\n        var generateExisting = function (email) {\n            var span = document.createElement('span');\n            var input = document.createElement('input');\n\n            span.className = 'formBlock__inline js_sharingClone fadeIn';\n            span.innerHTML = 'email';\n\n            if (email) {  // prevent TypeError when calling on undefined values\n                input.size = email.length;\n                input.value = email;\n            }\n\n            input.className = 'js_inputWidth formBlock_input input__inline';\n            input.name = 'email';\n            input.type = 'email';\n            input.placeholder = 'email@example.com';\n\n            span.appendChild(input);\n            sharingParent.appendChild(span);\n\n\n        };\n\n        var generateNew = function () {  // generate and place into the DOM\n            var span = document.createElement('span');\n            var input = document.createElement('input');\n\n            span.className = 'formBlock__inline js_sharingClone fadeIn';\n            span.innerHTML = 'email';\n\n            input.size = '15';\n            input.className = 'js_inputWidth formBlock_input input__inline';\n            input.name = 'email';\n            input.type = 'email';\n            input.placeholder = 'email@example.com';\n\n            span.appendChild(input);\n            sharingParent.appendChild(span);\n\n        };\n\n        sharingParent.addEventListener('input', function () {  // checks if a new input should be created\n            var i;\n            var l = sharingBlock.length;\n\n            var numEmpty = 0;\n\n            for (i = 0; i < l; i += 1) {  // todo: delete empty inputs, leaving only one empty input on the end\n                if (sharingBlock[i].children[0].value === '') {\n                    numEmpty += 1;\n                }\n            }\n\n            if (!numEmpty) {  // if the input is not empty, make a new one\n                generateNew();\n            }\n\n            return setShareButtonDisabledState();  // call to set the state of the sharing button\n\n        });\n\n        if (emails) {  // if this function is called with existing emails\n            var i;\n            var l = emails.length;\n\n            for (i = 0; i < l; i += 1) {  // generate and fill an input per email\n                generateExisting(emails[i]);\n            }\n\n            generateNew();  // add an additional blank input after filling the existing emails\n            setShareButtonDisabledState();\n\n        } else {\n            generateNew();  // just generate a blank input\n        }\n\n        if (callback) {  // call if callback\n            return callback();\n        }\n\n\n\n    };\n\n    var getIfEdit = function () {\n        var editID;\n        localDB.get('_local/edit_id').then(function (doc) {  // try to get the document id which is stored for editing\n            editID = doc.edit_id;\n        }).then(function () {  // this means it exists; build the page with it\n            localDB.get(editID).then(function (doc) {\n                return buildReportPageController(doc);\n            }).catch(function (err) {  // some error (not 404)\n                logErrorInDB(err);\n                console.log(err);\n            })\n        }).catch(function (err) {  // the edit document id doesn't exist, so build the page without the document\n            if (err.status === 404) {\n                return buildReportPageController();\n            }\n            logErrorInDB(err);\n            console.log(err);\n        });\n    };\n\n    var setPreviewPath = function (id) {\n        previewLink.href = '/integrous-web/reports/' + id;  // # customize #\n        previewLink.className = 'js_previewReport';\n    };\n\n    var sharingController = function (e) {  // save the report, then send POST of email addresses in report\n        e.preventDefault();\n\n        localDB.upsert(e.target.dataset.id, buildReport).then(function () {\n            localDB.get(e.target.dataset.id).then(function (doc) {\n                var AJAX = new XMLHttpRequest();\n                var i;\n                var l = doc.sharing.length;\n                var emailPayload = [];\n\n                for (i = 0; i < l; i += 1) {\n                    emailPayload.push({\n                        \"email\": doc.sharing[i]\n                    })\n                }\n\n                AJAX.addEventListener('load', function (e) {  // todo: e.target.response will hold errors / success; hook that back into the UI\n                    console.log(e.target.response);\n                });\n                AJAX.open('POST', '/integrous-web/reports/generator', true);  // # customize #\n                AJAX.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                AJAX.send('email=' + JSON.stringify(emailPayload) + '&link=https://www.inspection.tech/integrous-web/reports/' + doc._id);    // # customize #\n\n            }).catch(function (err) {\n                logErrorInDB(err);\n                console.log(err);\n            });\n\n        }).catch(function (err) {\n            logErrorInDB(err);\n            console.log(err);\n        });\n\n    };\n\n    var setShareButtonDisabledState = function () {  // sends correct call to disableButton based on logic of two values\n        var connection = getConnectionStatus();\n        var disable = true;  // set to true so that one input with a value will set to false\n        var i;\n        var j = sharingBlock.length;\n\n        for (i = 0; i < j; i += 1) {  // loop through and set disable to false if one block has a value\n            if (sharingBlock[i].children[0].value !== '') {\n                disable = false;\n            }\n        }\n\n        if (disable && connection) {  // disable, even though we're online\n            disableButton(shareButton, true);\n        } else if (!disable && connection) {  // no mandate to disable; pass decision to connection status\n            disableButton(shareButton, false);\n        } else if (!disable && !connection) {  // no mandate to disable; pass decision to connection status\n            disableButton(shareButton, true);\n        } else if (disable && !connection) {  // disable\n            disableButton(shareButton, true);\n        }\n\n\n    };\n\n    (function inputDimensionController() {\n        var inputs = document.querySelectorAll('.js_inputWidth, .js_inputHeight'),  // querySelectorAll doesn't return 'null' (returns empty node list); ```if (inputs) {}``` won't work.\n            delegate = document.querySelectorAll('.js_eventDelegation');  // using this selector for event delegation\n        var widthController = function (e) {\n            var base = 15;  // base size for all inputs\n            var chars = e.target.value.length;\n            var size = e.target.size;\n            if (chars > size) {  // if the input needs to expand\n                return e.target.size = e.target.value.length;  // expand it\n            } else if (chars < size && chars > base) {  // if the input contains less than its width and still has more than 15 characters\n                return e.target.size = e.target.value.length;  // shrink it\n            } else {  // otherwise\n                e.target.size = base;  // set to the base width\n            }\n        };\n        var heightController = function (e) {\n            if (e.target.scrollHeight > e.target.clientHeight) {\n                var rows = e.target.rows;\n                e.target.rows = rows + 1;\n            } else if (e.target.value.length === 0) {  // resets rows to 2 if all text is removed\n                e.target.rows = 2;\n            }\n        };\n        var nodeNameFilter = function (e) {  // sorts and calls appropriate functions\n            switch (e.target.nodeName) {\n                case 'INPUT':  // if input, set the width to \"size\" attribute (or min of 20), which is character count for input type text\n                    if (e.target.classList.contains('js_inputWidth')) {  // test for class in > IE9\n                        widthController(e);\n                    } else if (new RegExp('(^| )' + 'js_inputWidth' + '( |$)', 'gi').test(e.target.className)) {  // test for class in < IE10\n                        widthController(e);\n                    }\n                    break;\n                case 'TEXTAREA':  // if text area, set the number of rows (default of 2) to plus one when the scroll height exceeds the client height\n                    heightController(e);  // currently no need to test classList, since textarea has only this javascript hook\n                    break;\n                default:\n                    return false;\n            }\n        };\n        if (inputs.length !== 0) {  // if there are targeted inputs on the page\n            for (var i = 0; i < delegate.length; i += 1) {  // loop through and add event listeners to the delegate\n                delegate[i].addEventListener('input', nodeNameFilter);\n            }\n        }\n    })();\n    (function sectionController() {  // ToDo: add support for older IE and Safari (maybe AJAX call to JSON?) for datalist element\n\n        (function reportComposition() {\n            var parent = document.querySelector('.js_compositionParentNode');  // grab the parent\n            var node = document.querySelectorAll('.js_compositionClone');  // grab the existing node\n            if (parent) {  // so wrapped to prevent type error\n                var descriptionTrigger = parent.querySelectorAll('.js_description');\n            }\n            var inputHits = 0;  // sets the number of input hits\n            function resetInputHits() {\n                return inputHits = 0;\n            }\n            function clone(e) {  // creates the new node and adds the inner HTML; appends; calls 'cycle'\n                var baseIDFull = e.target.parentNode.children[0].id;  // pull the id from the first node in the form block\n                var baseIDStripped = baseIDFull.replace(/\\D+/g, '');  // strip the words\n                var nextNameID = Number(baseIDStripped) + 1;  // iterate the number for use in assigning to clone\n                var newClone = node[node.length - 1].cloneNode(false);\n                newClone.className = 'report_formBlock js_compositionClone fadeIn';\n                newClone.innerHTML = (\n`<span class=\"formBlock__inline\">distance<input size=\"15\" class=\"js_inputWidth js_generateNew formBlock_input input__inline\" id=\"distanceComp${nextNameID}\" name=\"distanceComp${nextNameID}\" type=\"text\" placeholder=\"at x\"></span>\n<span class=\"formBlock__inline\">event<input size=\"15\" class=\"js_inputWidth formBlock_input input__inline\" id=\"eventComp${nextNameID}\" name=\"eventComp${nextNameID}\" list=\"eventCompDL\" type=\"text\" placeholder=\"&darr; choose an event\"></span>\n<label class=\"formBlock_label\">description<textarea class=\"js_inputHeight formBlock_textarea\" id=\"descriptionComp${nextNameID}\" name=\"descriptionComp${nextNameID}\" placeholder=\"description\"></textarea></label>`\n                );\n                parent.appendChild(newClone);\n                return cycle();\n            }\n            function unfold(e) {\n                var val = e.target.value;\n                var formBlock = e.target.parentNode.parentNode;\n                var siblingNode = e.target.parentNode.nextElementSibling;\n                var newNode = document.createElement('span');\n                var siblingIDStripped = siblingNode.children[0].id.replace(/\\D+/g, '');\n                var duplicate;\n                newNode.className = 'js_unfolded formBlock__inline fadeIn';\n                function duplicateCheck() {  // prevents rare case of case match being pasted in multiple times, which (apart from this function) would create duplicate inputs\n                    return ((siblingNode.classList.contains('js_unfolded')) || (new RegExp('(^| )' + 'js_unfolded' + '( |$)', 'gi').test(siblingNode.className)));  // return boolean for classList / className\n                }\n                function deleteInputs() {  // prevents multiple (incorrect) inputs\n                    var toDelete = [];\n                    for (var i = 0; i < formBlock.children.length; i += 1) {  // loop through, because sometimes multiple nodes are created (as in 'transition')\n                        if ((formBlock.children[i].classList.contains('js_unfolded')) || (new RegExp('(^| )' + 'js_unfolded' + '( |$)', 'gi').test(formBlock.children[i].children[0].className))) {  // test for class in > IE9\n                            toDelete.push(i);\n                        }\n                    }\n                    toDelete = toDelete.reverse();  // reverse the array, so array order doesn't shift when node is deleted (last position will be deleted first)\n                    for (var ii = 0; ii < toDelete.length; ii += 1) {  // loop through and delete the unwanted nodes\n                        formBlock.children[toDelete[ii]].remove();\n                    }\n                    return false;\n                }\n                switch (val) {  // creates and inserts inputs based on previous selection\n                    case 'access point':\n                        duplicate = duplicateCheck();\n                        if (!duplicate) {\n                            newNode.innerHTML = `type<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"typeComp${siblingIDStripped}\" name=\"typeComp${siblingIDStripped}\" list=\"accessCompDL\" type=\"text\" placeholder=\"&darr; choose a type\"></span>`;\n                            formBlock.insertBefore(newNode, siblingNode);\n                            return cycle();\n                        } else {\n                            e.target.value = '';\n                            return deleteInputs();\n                        }\n                        break;\n                    case 'end point':\n                        duplicate = duplicateCheck();\n                        if (!duplicate) {\n                            newNode.innerHTML = `type<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"typeComp${siblingIDStripped}\" name=\"typeComp${siblingIDStripped}\" list=\"endCompDL\" type=\"text\" placeholder=\"&darr; choose a type\"></span>`;\n                            formBlock.insertBefore(newNode, siblingNode);\n                            return cycle();\n                        } else {\n                            e.target.value = '';\n                            return deleteInputs();\n                        }\n                        break;\n                    case 'tie in':\n                        duplicate = duplicateCheck();\n                        if (!duplicate) {\n                            newNode.innerHTML = `direction<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"directionComp${siblingIDStripped}\" name=\"directionComp${siblingIDStripped}\" list=\"tieCompDL\" type=\"text\" placeholder=\"&darr; choose a direction\"></span>`;\n                            formBlock.insertBefore(newNode, siblingNode);\n                            return cycle();\n                        } else {\n                            e.target.value = '';\n                            return deleteInputs();\n                        }\n                        break;\n                    case 'transition':\n                        duplicate = duplicateCheck();\n                        if (!duplicate) {\n                            var newNodeA = document.createElement('span');\n                            var newNodeB = document.createElement('span');\n                            newNodeA.className = 'js_unfolded formBlock__inline fadeIn';\n                            newNodeB.className = 'js_unfolded formBlock__inline fadeIn';\n                            newNodeA.innerHTML = `from<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"fromComp${siblingIDStripped}\" name=\"fromComp${siblingIDStripped}\" list=\"matCompDL\" type=\"text\" placeholder=\"&darr; from\"></span>`;\n                            newNodeB.innerHTML = `to<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"toComp${siblingIDStripped}\" name=\"toComp${siblingIDStripped}\" list=\"matCompDL\" type=\"text\" placeholder=\"&darr; to\"></span>`;\n                            formBlock.insertBefore(newNodeA, siblingNode);\n                            formBlock.insertBefore(newNodeB, siblingNode);\n                            return cycle();\n                        } else {\n                            e.target.value = '';\n                            return deleteInputs();\n                        }\n                        break;\n                    default:  // default is to remove the element if it was created by the unfold process (has className 'js_unfolded')\n                        return deleteInputs();\n                }\n            }\n            function generateDescription(e) {\n                var parentBlock = e.target.parentNode.parentNode;\n                var inputs = parentBlock.querySelectorAll('input');\n                var target = parentBlock.querySelector('textarea');\n                var description = '';\n                var tail = '';\n                var values = [];\n                function encodeAsHTML(text) {  // function to cause text with HTML entities to be encoded as HTML, then returned; useful for entities in pipeLib descriptions\n                    var element = document.createElement('p');\n                    element.innerHTML = text;\n                    return element.innerHTML;\n                }\n                for (var i = 0; i < inputs.length; i += 1) {  // set the input values to an array, which allows undefined\n                    values[i] = inputs[i].value;\n                }\n                if (values[1] !== 'transition') {\n                    if (typeof pipeLibrary.composition[values[1]] === 'undefined' || typeof pipeLibrary.composition[values[1]][values[2]] === 'undefined' ) {  // if description is not undefined (as it would be for a custom value)\n                        return false;\n                    } else {\n                        description = pipeLibrary.composition[values[1]][values[2]];  // look up the description text\n                        target.value = encodeAsHTML(description);  // set the description as HTML and value\n                    }\n                } else if (values[1] === 'transition') {\n                    if (typeof pipeLibrary.composition[values[1]] === 'undefined' || typeof pipeLibrary.composition[values[1]].from[values[2]] === 'undefined' || typeof pipeLibrary.composition[values[1]].to[values[3]] === 'undefined') {   // if description is not undefined (as it would be for a custom value)\n                        return false;\n                    } else {\n                        description = pipeLibrary.composition.transition.from[values[2]];   // look up the description text\n                        target.value = encodeAsHTML(description);  // set the description as HTML and value\n                        tail = pipeLibrary.composition.transition.to[values[3]];  // look up the second description text\n                        target.value += encodeAsHTML(tail);  // set the description as HTML and value\n                    }\n                }\n                return cycle();\n            }\n            function check(e) {\n                if (inputHits < 1) {\n                    clone(e);\n                    return inputHits += 1;\n                } else {\n                    return false;\n                }\n            }\n            function cycle() {\n                node = document.querySelectorAll('.js_compositionClone');\n                descriptionTrigger = parent.querySelectorAll('.js_description');\n                for (var i = 0; i < node.length; i += 1) {\n                    node[i].removeEventListener('input', check);\n                    node[i].children[1].children[0].removeEventListener('focus', resetInputHits);\n                }\n                node[node.length - 1].addEventListener('input', check);\n                node[node.length - 1].children[1].children[0].addEventListener('focus', resetInputHits);\n                node[node.length - 1].children[1].children[0].addEventListener('input', unfold);  // never removed, because this field may change and should always update\n                if (typeof descriptionTrigger[0] === 'undefined') {\n                    return false;\n                } else {\n                    for (var ii = 0; ii < descriptionTrigger.length; ii += 1) {\n                        descriptionTrigger[ii].addEventListener('input', generateDescription);  // dynamically added due to changing structure; never removed, because this field may change and should always update\n                    }\n                }\n                return false;\n            }\n            if (node.length !== 0) {\n                return cycle();\n            } else {\n                return false;\n            }\n        })();\n        (function reportAbnormalities() {\n            var parent = document.querySelector('.js_abnormalitiesParentNode');  // grab the parent\n            var node = document.querySelectorAll('.js_abnormalitiesClone');  // grab the existing node\n            if (parent) {  // so wrapped to prevent type error\n                var descriptionTrigger = parent.querySelectorAll('.js_description');\n            }\n            var inputHits = 0;  // sets the number of input hits\n            function resetInputHits() {\n                return inputHits = 0;\n            }\n            function clone(e) {  // creates the new node and adds the inner HTML; appends; calls 'cycle'\n                var baseIDFull = e.target.parentNode.children[0].id;  // pull the id from the first node in the form block\n                var baseIDStripped = baseIDFull.replace(/\\D+/g, '');  // strip the words\n                var nextNameID = Number(baseIDStripped) + 1;  // iterate the number for use in assigning to clone\n                var newClone = node[node.length - 1].cloneNode(false);\n                newClone.className = 'report_formBlock js_abnormalitiesClone fadeIn';\n                newClone.innerHTML =\n                    (`<span class=\"formBlock__inline\">distance<input size=\"15\" class=\"js_inputWidth js_generateNew formBlock_input input__inline\" id=\"distanceAbnorm${nextNameID}\" name=\"distanceAbnorm${nextNameID}\" type=\"text\" placeholder=\"at x / from x to x\"></span>\n<span class=\"formBlock__inline\">event<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"eventAbnorm${nextNameID}\" name=\"eventAbnorm${nextNameID}\" list=\"eventAbnormDL\" type=\"text\" placeholder=\"&darr; choose an event\"></span>\n<span class=\"formBlock__inline\">grade<input size=\"15\" class=\"js_description js_inputWidth formBlock_input input__inline\" id=\"gradeAbnorm${nextNameID}\" name=\"gradeAbnorm${nextNameID}\" list=\"gradeAbnormDL\"\" type=\"text\" placeholder=\"&darr; choose a grade\"></span>\n<label class=\"formBlock_label\">description<textarea class=\"js_inputHeight formBlock_textarea\" id=\"descriptionAbnorm${nextNameID}\" name=\"descriptionAbnorm${nextNameID}\" placeholder=\"description\"></textarea></label>`);\n                parent.appendChild(newClone);\n                return cycle();\n            }\n            function generateDescription(e) {\n                var parentBlock = e.target.parentNode.parentNode;\n                var inputs = parentBlock.querySelectorAll('input');\n                var target = parentBlock.querySelector('textarea');\n                var description = '';\n                var values = [];\n                function encodeAsHTML(text) {  // function to cause text with HTML entities to be encoded as HTML, then returned; useful for entities in pipeLib descriptions\n                    var element = document.createElement('p');\n                    element.innerHTML = text;\n                    return element.innerHTML;\n                }\n                for (var i = 0; i < inputs.length; i += 1) {  // set the input values to an array, which allows undefined\n                    values[i] = inputs[i].value;\n                }\n                if (typeof pipeLibrary.abnormality[values[1]] === 'undefined' || typeof pipeLibrary.abnormality[values[1]][values[2]] === 'undefined') {  // prevent undefined object references\n                    return false;\n                } else {\n                    description = pipeLibrary.abnormality[values[1]][values[2]].description;  // look up the description text\n                    target.value = encodeAsHTML(description);  // set the description as HTML and value\n                }\n                return cycle();\n            }\n            function check(e) {\n                if (inputHits < 1) {\n                    clone(e);\n                    return inputHits += 1;\n                } else {\n                    return false;\n                }\n            }\n            function cycle() {  //\n                node = document.querySelectorAll('.js_abnormalitiesClone');\n                descriptionTrigger = parent.querySelectorAll('.js_description');\n                for (var i = 0; i < node.length; i += 1) {\n                    node[i].removeEventListener('input', check);\n                    node[i].children[1].children[0].removeEventListener('focus', resetInputHits);\n                }\n                node[node.length - 1].addEventListener('input', check);\n                node[node.length - 1].children[1].children[0].addEventListener('focus', resetInputHits);\n                descriptionTrigger[descriptionTrigger.length -2].addEventListener('input', generateDescription);  // manually added (as opposed to through for loop) due to predictable structure; never removed, because this field may change and should always update\n                descriptionTrigger[descriptionTrigger.length -1].addEventListener('input', generateDescription);  // manually added (as opposed to through for loop) due to predictable structure; never removed, because this field may change and should always update\n                return false;\n            }\n            if (node.length !== 0) {\n                return cycle();\n            } else {\n                return false;\n            }\n        })();\n\n        //(function summaryWriter() {  // todo: add dynamically generated summary (composition, abnormalities, and recommendations)\n        //    var container = document.querySelector('.section__summary');\n        //    var composition = document.querySelector('.js_summary__composition');\n        //    var abnormalities = document.querySelector('.js_summary__abnormalities');\n        //    var recommendations = document.querySelector('.js_summary__recommendations');\n        //    function reportLookup(reference) {\n        //        if (reference) {\n        //            return reference;\n        //        } else {\n        //            return false;\n        //        }\n        //    }\n        //    function getKeyByValue(object, value) {\n        //        console.log(object, value);\n        //        var length = Object.keys(object).length;\n        //        for (var i = 0; i < length; i += 1) {\n        //            for (var property in object[i]) {\n        //                if (object[i][property] === value) {\n        //                    console.log(object[i]);\n        //                    //console.log(object[i][property]);\n        //                }\n        //            }\n        //        }\n        //    }\n        //    function writeComposition() {\n        //        var keys = Object.keys(report.composition);\n        //        getKeyByValue(report.composition, 'access point');\n        //        //var accessPoint = reportLookup()\n        //        composition.innerHTML = `I accessed the side sewer line through {accessPoint}. Your side sewer line is made up of {materialArray}.`;\n        //    }\n        //    function writeAbnormalities() {\n        //        abnormalities.innerHTML = ``;\n        //    }\n        //    function writeRecommendations() {\n        //        recommendations.innerHTML = ``;\n        //    }\n        //    writeComposition();\n        //\n        //    //console.log(reportLookup(report.company.name));\n        //    //setTimeout(summaryWriter, 1000);\n        //\n        //})();\n    })();\n\n    var buildReportPageController = function (doc) {\n        if (doc) {\n            buildPage(doc);\n            generateSharingInputs(doc.sharing);  // put one on the page initially\n        } else {\n            generateSharingInputs();\n        }\n\n\n\n    };\n\n    if (createReport) {  // element test to ensure I'm on the right page; initial call stack\n        try {\n            connectionHandler();  // set initially & listen for changes\n            setDefaultSelectMonth(); // set initially\n            displayReportRange();  // populate initially\n            deleteButtonStatus();  // set plurality & disabled state of delete button\n            createButtonListeners();  // listen initially\n            deleteButtonListeners();  // listen initially\n            selectListeners();  // listen for changes\n        } catch (err) {\n            logErrorInDB(err);\n            console.log(err);\n        }\n    }\n\n    if (shareButton) {  // only run the build if the share button exists (the report generator page)\n        if (!shareButton.dataset.id) {  // set the report's id if it isn't set\n            shareButton.dataset.id = new Date().toISOString();\n        }\n\n        try {\n            connectionHandler();\n            getIfEdit();\n\n            shareButton.addEventListener('click', sharingController);\n            \n            saveButton.addEventListener('click', function () {\n                saveReport(shareButton.dataset.id);\n            });\n            \n        } catch (err) {\n            logErrorInDB(err);\n            console.log(err);\n        }\n\n        \n        //setTimeout(saveReport, 1000);  // save every second, until I figure out which events should trigger this  todo: determine which events trigger build / save\n    }\n\n};\n\n/* *\n * Pipe Inspection Story\n *\n *\n * From <25 feet to 47 feet> OR At <25 feet> along the line I found <moderate to severe> OR <severe> <root intrusion>. The <roots cause greater than 50% reduction in the pipes capacity>, so I recommend <having the line cleaned out (snaking or jetting), then having the roots treated with a foaming herbicide like RootX>.\n * OR\n * At <25 feet> along the line <? and <12 feet> deep ?>I found <slight> <root intrusion>.\n * The entire line was <not inspected>. <I was stopped by roots at 47 feet> OR <I reached the max run of the camera line> OR <I reached the city main line>. <I recommend a re-inspection once the abnormality is repaired>.\n * */\n\n\nready(readyWrap);\n\n//# sourceMappingURL=sewerLine.js.map\n"],"sourceRoot":"/source/"}